
<script>
    const state = 
    {
        courseid: null
    }

    const methods =
    {
        onClick()
        {
            if (!this.state.courseid) return;

            fetch(Parlaflix.Helpers.URLGenerator.generateApiUrl(`/student/subscribe/${this.state.courseid}`), { method: 'POST' })
            .then(res => res.json())
           .then(Parlaflix.Alerts.pushFromJsonResult)
            .then(Parlaflix.Helpers.URLGenerator.goToPageOnSuccess('student/panel/subscription'))
            .catch(reason => Parlaflix.Alerts.push(Parlaflix.Alerts.types.error, String(reason)));
        }
    };
</script>

<template>
    <div class="text-center p-8">
        <button class="btn" type="button" @click="onClick">Inscrever-se</button>
    </div>
</template>